(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 8.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     30952,        895]
NotebookOptionsPosition[     28513,        807]
NotebookOutlinePosition[     28950,        824]
CellTagsIndexPosition[     28907,        821]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Documentation", "Title",
 CellChangeTimes->{{3.569836781821417*^9, 3.569836785325283*^9}}],

Cell[CellGroupData[{

Cell["Installation", "Section",
 CellChangeTimes->{{3.569836801618615*^9, 3.5698368037957163`*^9}}],

Cell[TextData[{
 "Copy ",
 StyleBox["the whole \[OpenCurlyQuote]TensorCaculator\[CloseCurlyQuote] \
folder",
  FontWeight->"Bold"],
 " to ",
 StyleBox["\[OpenCurlyQuote]/*path_to_",
  FontWeight->"Bold"],
 StyleBox["Mathematica",
  FontWeight->"Bold",
  FontSlant->"Italic"],
 StyleBox["*/*version*/Addons/Applications/\[CloseCurlyQuote]",
  FontWeight->"Bold"],
 ", if you are using Linux.\n\nThat\[CloseCurlyQuote]s all!"
}], "Text",
 CellChangeTimes->{{3.5698368185373993`*^9, 3.569836953625646*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["How To Use It", "Section",
 CellChangeTimes->{{3.5698317012574463`*^9, 3.569831714894269*^9}}],

Cell[TextData[{
 "Open ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " or just type \[OpenCurlyQuote]math\[CloseCurlyQuote] in your terminal, if \
you are using Linux.\nType in ",
 StyleBox["\[OpenCurlyQuote]Get[\[OpenCurlyDoubleQuote]TensorCalculator`\
Module`\[CloseCurlyDoubleQuote]]\[CloseCurlyQuote]",
  FontWeight->"Bold"],
 ", then theses functions are read by ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " kernel.\nAnd then, you can all these functions."
}], "Text",
 CellChangeTimes->{{3.5698317406829348`*^9, 3.569831917525278*^9}, {
  3.569836942349434*^9, 3.569836984726305*^9}, {3.569837026813508*^9, 
  3.569837073547966*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Conventions", "Section",
 CellChangeTimes->{{3.56983824779683*^9, 3.569838251752035*^9}}],

Cell["\<\
The signature can be chosen arbitrarily.

But which are time components and which are space components? It can be \
chosen arbitrarily as you like, since the time and space components have the \
same status, as long as consisting with your signature and your metric input.\
\
\>", "Text",
 CellChangeTimes->{{3.5698382567870817`*^9, 3.569838459189517*^9}, {
   3.56983849813169*^9, 3.569838558302182*^9}, {3.569838842998177*^9, 
   3.56983897572535*^9}, {3.5698390356594276`*^9, 3.5698390785318537`*^9}, 
   3.569839177698803*^9, {3.569839229033231*^9, 3.5698392462587833`*^9}, {
   3.569839277875803*^9, 3.5698393572023478`*^9}, 3.571651532742058*^9, {
   3.5716517082578278`*^9, 3.5716517529298058`*^9}}],

Cell["\<\
Note that, when you run function XXXModule[metric], a variable will be \
generated, which is named by XXX (the XXX in the name of XXXModule[metric]) \
and has the value of the XXXModule[metic]. This is generally used in some \
cycles such as Sum[XXXModule[metric]], which is slow and now is replaced by \
Sum[XXX].\
\>", "Text",
 CellChangeTimes->{{3.574660989498006*^9, 3.574661175272561*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Parameters & Functions", "Section",
 CellChangeTimes->{{3.569837498552577*^9, 3.569837500071067*^9}, {
  3.5698378769618*^9, 3.569837908550807*^9}}],

Cell[CellGroupData[{

Cell["\<\
Parameters that you have to input:\
\>", "Subsection",
 CellChangeTimes->{{3.569837967570937*^9, 3.5698379840463467`*^9}}],

Cell[TextData[{
 "The dimension of the space-time, denoted by ",
 StyleBox["\[OpenCurlyDoubleQuote]dim\[CloseCurlyDoubleQuote]",
  FontWeight->"Bold"],
 ";\nThe notions of coordinates of the space-time, denoted by ",
 StyleBox["\[OpenCurlyDoubleQuote]coordinates\[CloseCurlyDoubleQuote]",
  FontWeight->"Bold"],
 ";\n",
 StyleBox["the metric",
  FontWeight->"Bold"],
 ".\nThe notion of metric, denoted by ",
 StyleBox["\[OpenCurlyDoubleQuote]metricMatrix\[CloseCurlyDoubleQuote]",
  FontWeight->"Bold"],
 "."
}], "Text",
 CellChangeTimes->{{3.569837986468251*^9, 3.5698380648517857`*^9}, {
  3.5716517605383673`*^9, 3.5716518075440903`*^9}, {3.592284219266006*^9, 
  3.592284220451365*^9}, {3.592285105256781*^9, 3.592285134757207*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Functions contained in the package \[OpenCurlyQuote]Module_Matrix.m\
\[CloseCurlyQuote]:\
\>", "Subsection",
 CellChangeTimes->{{3.569837927462562*^9, 3.569837954058692*^9}, {
  3.592284228419404*^9, 3.592284230307067*^9}}],

Cell[TextData[{
 StyleBox["\[OpenCurlyQuote]gUpIndexMatrixModule[metricMatrix]\
\[CloseCurlyQuote] for ",
  FontWeight->"Bold"],
 Cell[BoxData[
  FormBox[
   SuperscriptBox["g", "ab"], TraditionalForm]],
  FontWeight->"Bold"],
 StyleBox[", where g is the metric;\n\
\[OpenCurlyQuote]gammaDownIndexMatrixModule[metricMatrix]\[CloseCurlyQuote] \
for ",
  FontWeight->"Bold"],
 Cell[BoxData[
  FormBox[
   SubscriptBox["\[CapitalGamma]", "abc"], TraditionalForm]],
  FontWeight->"Bold"],
 StyleBox[";\n\[OpenCurlyQuote]affineConnectionMatrixModule[metricMatrix]\
\[CloseCurlyQuote] for ",
  FontWeight->"Bold"],
 Cell[BoxData[
  FormBox[
   SubscriptBox[
    SuperscriptBox["\[CapitalGamma]", "a"], "bc"], TraditionalForm]],
  FontWeight->"Bold"],
 StyleBox[", i.e., the affine connection;\n\
\[OpenCurlyQuote]rUpIndexMatrixModule[metricMatrix]\[CloseCurlyQuote] for ",
  FontWeight->"Bold"],
 Cell[BoxData[
  FormBox[
   SubscriptBox[
    SuperscriptBox["R", "a"], "bcd"], TraditionalForm]],
  FontWeight->"Bold"],
 StyleBox[";\n\[OpenCurlyQuote]rDownIndexMatrixModule[metricMatrix]\
\[CloseCurlyQuote] for ",
  FontWeight->"Bold"],
 Cell[BoxData[
  FormBox[
   SubscriptBox["R", "abcd"], TraditionalForm]],
  FontWeight->"Bold"],
 StyleBox[";\n\[OpenCurlyQuote]ricciTensorMatrixModule[metricMatrix]\
\[CloseCurlyQuote] for ",
  FontWeight->"Bold"],
 Cell[BoxData[
  FormBox[
   SubscriptBox["R", "ab"], TraditionalForm]],
  FontWeight->"Bold"],
 StyleBox[", i.e., the Ricci tensor;\n\
\[OpenCurlyQuote]ricciScalarMatrixModule[metricMatrix]\[CloseCurlyQuote] for ",
  FontWeight->"Bold"],
 Cell[BoxData[
  FormBox["R", TraditionalForm]],
  FontWeight->"Bold"],
 StyleBox[", i.e., the Ricci scalar;\n\
\[OpenCurlyQuote]einsteinTensorMatrixModule[metricMatrix]\[CloseCurlyQuote] \
for ",
  FontWeight->"Bold"],
 Cell[BoxData[
  FormBox[
   SubscriptBox["G", "ab"], TraditionalForm]],
  FontWeight->"Bold"],
 StyleBox[", i.e., the Einstein tensor;\n\
\[OpenCurlyQuote]einsteinTensorUpIndexMatrixModule[metricMatrix]\
\[CloseCurlyQuote] for ",
  FontWeight->"Bold"],
 Cell[BoxData[
  FormBox[
   SuperscriptBox["G", "ab"], TraditionalForm]],
  FontWeight->"Bold"],
 StyleBox[".",
  FontWeight->"Bold"]
}], "Text",
 CellChangeTimes->{{3.569837514072884*^9, 3.569837893523718*^9}, {
  3.592284240994499*^9, 3.592284277808857*^9}}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Examples", "Section",
 CellChangeTimes->{{3.56983095094844*^9, 3.569830953299737*^9}}],

Cell[BoxData[
 RowBox[{"Quit", "[", "]"}]], "Input",
 CellChangeTimes->{{3.592284880311162*^9, 3.592284883112567*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"dim", " ", "=", " ", "4"}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"The", " ", "dimension", " ", "of", " ", "space"}], "-", 
    RowBox[{"time", " ", "under", " ", 
     RowBox[{"consideration", "."}]}]}], " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"order", " ", "=", " ", "0"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"coordinates", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{"x", ",", "y", ",", "z", ",", "t"}], "}"}]}], ";", " ", 
  RowBox[{"(*", " ", 
   RowBox[{"Set", " ", "the", " ", "notions", " ", "of", " ", 
    RowBox[{"coordinates", "."}]}], " ", "*)"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{"metricMatrix", " ", "=", " ", 
   RowBox[{"DiagonalMatrix", "[", 
    RowBox[{"{", 
     RowBox[{
      SuperscriptBox[
       RowBox[{"a", "[", "t", "]"}], "2"], ",", " ", 
      SuperscriptBox[
       RowBox[{"a", "[", "t", "]"}], "2"], ",", " ", 
      SuperscriptBox[
       RowBox[{"a", "[", "t", "]"}], "2"], ",", " ", 
      RowBox[{"-", "1"}]}], "}"}], "]"}]}], ";", " ", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"Input", " ", "the", " ", 
      RowBox[{"metric", ".", " ", "I"}], " ", "prefer", " ", 
      RowBox[{"letter", " ", "'"}], 
      RowBox[{
       RowBox[{"g", "'"}], ".", " ", "You"}], " ", "can", " ", "choice", " ", 
      "any", " ", "letter", " ", "you", " ", 
      RowBox[{"prefer", "!"}], " ", "Here", " ", "is", " ", "the", " ", 
      "Walker"}], "-", 
     RowBox[{
     "Robertson", " ", "metric", " ", "as", " ", "an", " ", "example"}]}], 
    ",", " ", 
    RowBox[{"with", " ", "t", " ", "denoting", " ", 
     RowBox[{"time", "."}]}]}], " ", "*)"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{"metricMatrix", "//", "MatrixForm", " ", 
   RowBox[{"(*", " ", 
    RowBox[{"You", " ", 
     RowBox[{"see", "."}]}], " ", "*)"}]}]}]}], "Input",
 CellChangeTimes->{{3.569756510161916*^9, 3.569756691868828*^9}, {
  3.56975924017519*^9, 3.5697592416101313`*^9}, {3.5698370851443663`*^9, 
  3.56983718134858*^9}, {3.5698380809439907`*^9, 3.5698381864238853`*^9}, {
  3.571651506032627*^9, 3.571651532636674*^9}, {3.5716516556227016`*^9, 
  3.571651682640203*^9}, {3.5746614337433777`*^9, 3.574661433866157*^9}, {
  3.592284059718238*^9, 3.5922840729232903`*^9}, {3.592284783802566*^9, 
  3.59228484970203*^9}, {3.59332398262983*^9, 3.593323988912764*^9}}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      SuperscriptBox[
       RowBox[{"a", "[", "t", "]"}], "2"], "0", "0", "0"},
     {"0", 
      SuperscriptBox[
       RowBox[{"a", "[", "t", "]"}], "2"], "0", "0"},
     {"0", "0", 
      SuperscriptBox[
       RowBox[{"a", "[", "t", "]"}], "2"], "0"},
     {"0", "0", "0", 
      RowBox[{"-", "1"}]}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{{3.569756649887281*^9, 3.569756694723145*^9}, 
   3.5697569657712593`*^9, 3.569757088954145*^9, {3.5697571359312468`*^9, 
   3.569757169882304*^9}, 3.569757239121399*^9, 3.5697584042082357`*^9, 
   3.569758525191443*^9, 3.56975872364003*^9, {3.5697587579519997`*^9, 
   3.569758764752822*^9}, 3.569758821616527*^9, 3.569758962681341*^9, 
   3.569759120859476*^9, 3.569759242207272*^9, 3.5697594685246887`*^9, 
   3.569759520227345*^9, 3.569759609720005*^9, 3.569759683758856*^9, 
   3.5697598589955807`*^9, 3.5697600233444023`*^9, 3.569760114269063*^9, 
   3.5697602265995827`*^9, 3.569760312547658*^9, 3.569760861566956*^9, 
   3.56979612318647*^9, 3.5698315556493597`*^9, 3.569833901411895*^9, 
   3.569834330133922*^9, 3.569834597999909*^9, 3.569834942117347*^9, {
   3.5698357127815933`*^9, 3.569835741703595*^9}, 3.5698394219671717`*^9, 
   3.569839614215654*^9, 3.5700965550082483`*^9, 3.571651495392617*^9, 
   3.57165153834494*^9, 3.571651599756185*^9, 3.57466143757596*^9, 
   3.5747429486170483`*^9, 3.59228407473888*^9, 3.592284718068508*^9, {
   3.592284787782444*^9, 3.592284795301971*^9}, 3.592284850181024*^9, 
   3.592284885574108*^9, 3.593171103862625*^9, 3.593231881258214*^9, 
   3.593323992780284*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"<<", "TensorCalculator`ModuleMatrix`"}], ";"}]], "Input",
 CellChangeTimes->{{3.569833905261018*^9, 3.569833957271414*^9}, 
   3.569834120962534*^9, {3.5698343121382847`*^9, 3.5698343618314867`*^9}, {
   3.5698344928422832`*^9, 3.5698345181185617`*^9}, {3.569834585095459*^9, 
   3.569834592061051*^9}, {3.5698346917291727`*^9, 3.569834695392579*^9}, {
   3.56983476223453*^9, 3.569834774228941*^9}, {3.569834944233984*^9, 
   3.569834961393615*^9}, {3.569835019172186*^9, 3.569835045370973*^9}, 
   3.56983516398995*^9, {3.569835274286542*^9, 3.5698352751767607`*^9}, {
   3.569835330442205*^9, 3.569835331115631*^9}, {3.569835695510777*^9, 
   3.569835725297717*^9}, {3.5698371860140057`*^9, 3.56983720493393*^9}, {
   3.592284117700417*^9, 3.592284138011631*^9}, 3.592284568829933*^9, 
   3.592284678284606*^9, {3.5922848744834967`*^9, 3.592284875271179*^9}, {
   3.593162062922305*^9, 3.593162135159004*^9}, {3.593170585327511*^9, 
   3.593170610641437*^9}, {3.5931706961683073`*^9, 3.593170703918516*^9}, {
   3.59317074098145*^9, 3.593170762414263*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"einsteinTensorMatrixModule", "[", "metricMatrix", "]"}], "//", 
   "MatrixForm"}], "//", "Timing"}]], "Input",
 CellChangeTimes->{{3.569834338530699*^9, 3.569834389436818*^9}, {
   3.5698357492866917`*^9, 3.569835760033688*^9}, 3.569837211232975*^9, {
   3.569839433799223*^9, 3.569839435869809*^9}, {3.592284142343298*^9, 
   3.592284143227869*^9}, {3.5922848913866997`*^9, 3.592284894114656*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.291955`", ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", GridBox[{
       {
        RowBox[{
         RowBox[{"-", 
          SuperscriptBox[
           RowBox[{
            SuperscriptBox["a", "\[Prime]",
             MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
         RowBox[{"2", " ", 
          RowBox[{"a", "[", "t", "]"}], " ", 
          RowBox[{
           SuperscriptBox["a", "\[Prime]\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}]}], "0", "0", "0"},
       {"0", 
        RowBox[{
         RowBox[{"-", 
          SuperscriptBox[
           RowBox[{
            SuperscriptBox["a", "\[Prime]",
             MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
         RowBox[{"2", " ", 
          RowBox[{"a", "[", "t", "]"}], " ", 
          RowBox[{
           SuperscriptBox["a", "\[Prime]\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}]}], "0", "0"},
       {"0", "0", 
        RowBox[{
         RowBox[{"-", 
          SuperscriptBox[
           RowBox[{
            SuperscriptBox["a", "\[Prime]",
             MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
         RowBox[{"2", " ", 
          RowBox[{"a", "[", "t", "]"}], " ", 
          RowBox[{
           SuperscriptBox["a", "\[Prime]\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}]}], "0"},
       {"0", "0", "0", 
        FractionBox[
         RowBox[{"3", " ", 
          SuperscriptBox[
           RowBox[{
            SuperscriptBox["a", "\[Prime]",
             MultilineFunction->None], "[", "t", "]"}], "2"]}], 
         SuperscriptBox[
          RowBox[{"a", "[", "t", "]"}], "2"]]}
      },
      GridBoxAlignment->{
       "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, 
        "Rows" -> {{Baseline}}, "RowsIndexed" -> {}},
      GridBoxSpacings->{"Columns" -> {
          Offset[0.27999999999999997`], {
           Offset[0.7]}, 
          Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
          Offset[0.2], {
           Offset[0.4]}, 
          Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[BoxForm`e$]]]}], "}"}]], "Output",
 CellChangeTimes->{{3.569834346941099*^9, 3.569834390501904*^9}, 
   3.569834595895873*^9, 3.569834699185214*^9, 3.569834932459942*^9, {
   3.569835702350559*^9, 3.569835760877224*^9}, {3.5698394261837463`*^9, 
   3.569839437182912*^9}, 3.569839620648993*^9, 3.570096555208033*^9, 
   3.57165149906742*^9, 3.571651540942401*^9, 3.57165161022143*^9, 
   3.57466144493283*^9, 3.5747429515243063`*^9, 3.592284144258402*^9, 
   3.5922847274270973`*^9, 3.592284797775621*^9, {3.5922848878929*^9, 
   3.592284894647625*^9}, 3.593171106047426*^9, 3.593171137122445*^9, 
   3.59323188356194*^9, 3.593323998048136*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"einsteinTensorUpIndexMatrixModule", "[", "metricMatrix", "]"}], "//",
    "MatrixForm"}], "//", "Timing"}]], "Input",
 CellChangeTimes->{{3.592285008137748*^9, 3.5922850096336393`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.1789720000000002`", ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", GridBox[{
       {
        RowBox[{"-", 
         FractionBox[
          RowBox[{
           SuperscriptBox[
            RowBox[{
             SuperscriptBox["a", "\[Prime]",
              MultilineFunction->None], "[", "t", "]"}], "2"], "+", 
           RowBox[{"2", " ", 
            RowBox[{"a", "[", "t", "]"}], " ", 
            RowBox[{
             SuperscriptBox["a", "\[Prime]\[Prime]",
              MultilineFunction->None], "[", "t", "]"}]}]}], 
          SuperscriptBox[
           RowBox[{"a", "[", "t", "]"}], "4"]]}], "0", "0", "0"},
       {"0", 
        RowBox[{"-", 
         FractionBox[
          RowBox[{
           SuperscriptBox[
            RowBox[{
             SuperscriptBox["a", "\[Prime]",
              MultilineFunction->None], "[", "t", "]"}], "2"], "+", 
           RowBox[{"2", " ", 
            RowBox[{"a", "[", "t", "]"}], " ", 
            RowBox[{
             SuperscriptBox["a", "\[Prime]\[Prime]",
              MultilineFunction->None], "[", "t", "]"}]}]}], 
          SuperscriptBox[
           RowBox[{"a", "[", "t", "]"}], "4"]]}], "0", "0"},
       {"0", "0", 
        RowBox[{"-", 
         FractionBox[
          RowBox[{
           SuperscriptBox[
            RowBox[{
             SuperscriptBox["a", "\[Prime]",
              MultilineFunction->None], "[", "t", "]"}], "2"], "+", 
           RowBox[{"2", " ", 
            RowBox[{"a", "[", "t", "]"}], " ", 
            RowBox[{
             SuperscriptBox["a", "\[Prime]\[Prime]",
              MultilineFunction->None], "[", "t", "]"}]}]}], 
          SuperscriptBox[
           RowBox[{"a", "[", "t", "]"}], "4"]]}], "0"},
       {"0", "0", "0", 
        FractionBox[
         RowBox[{"3", " ", 
          SuperscriptBox[
           RowBox[{
            SuperscriptBox["a", "\[Prime]",
             MultilineFunction->None], "[", "t", "]"}], "2"]}], 
         SuperscriptBox[
          RowBox[{"a", "[", "t", "]"}], "2"]]}
      },
      GridBoxAlignment->{
       "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, 
        "Rows" -> {{Baseline}}, "RowsIndexed" -> {}},
      GridBoxSpacings->{"Columns" -> {
          Offset[0.27999999999999997`], {
           Offset[0.7]}, 
          Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
          Offset[0.2], {
           Offset[0.4]}, 
          Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[BoxForm`e$]]]}], "}"}]], "Output",
 CellChangeTimes->{3.592285010463009*^9, 3.593171107641796*^9, 
  3.593171138470628*^9, 3.593231884853331*^9, 3.593324000314588*^9}]
}, Open  ]],

Cell["\<\
After running this module, a variable is named einsteinTensor, in this \
example, generated:\
\>", "Text",
 CellChangeTimes->{{3.574742890819235*^9, 3.574742927531149*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"einsteinTensorMatrix", ";"}], "\[IndentingNewLine]", 
 RowBox[{"%", "//", "MatrixForm"}]}], "Input",
 CellChangeTimes->{{3.5747429294099627`*^9, 3.574742943402691*^9}, {
  3.592284152886648*^9, 3.592284153739419*^9}}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{
       RowBox[{"-", 
        SuperscriptBox[
         RowBox[{
          SuperscriptBox["a", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
       RowBox[{"2", " ", 
        RowBox[{"a", "[", "t", "]"}], " ", 
        RowBox[{
         SuperscriptBox["a", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}]}], "0", "0", "0"},
     {"0", 
      RowBox[{
       RowBox[{"-", 
        SuperscriptBox[
         RowBox[{
          SuperscriptBox["a", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
       RowBox[{"2", " ", 
        RowBox[{"a", "[", "t", "]"}], " ", 
        RowBox[{
         SuperscriptBox["a", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}]}], "0", "0"},
     {"0", "0", 
      RowBox[{
       RowBox[{"-", 
        SuperscriptBox[
         RowBox[{
          SuperscriptBox["a", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
       RowBox[{"2", " ", 
        RowBox[{"a", "[", "t", "]"}], " ", 
        RowBox[{
         SuperscriptBox["a", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}]}], "0"},
     {"0", "0", "0", 
      FractionBox[
       RowBox[{"3", " ", 
        SuperscriptBox[
         RowBox[{
          SuperscriptBox["a", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}], "2"]}], 
       SuperscriptBox[
        RowBox[{"a", "[", "t", "]"}], "2"]]}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.57474295459247*^9, 3.5922841543314133`*^9, 3.592284728984479*^9, 
   3.5922847989050417`*^9, 3.592284896808901*^9, {3.593171109643559*^9, 
   3.593171139637148*^9}, 3.59323188757038*^9, 3.593324006487366*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"<<", "TensorCalculator`ModuleAbstractedIndeces`"}]], "Input"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"metric", "[", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"1", ",", "1"}], "}"}], ",", 
    RowBox[{"{", "}"}]}], "}"}], "]"}]], "Input",
 CellChangeTimes->{{3.592284184462731*^9, 3.592284201007072*^9}, {
  3.5922848042616034`*^9, 3.592284804316042*^9}}],

Cell[BoxData[
 SuperscriptBox[
  RowBox[{"a", "[", "t", "]"}], "2"]], "Output",
 CellChangeTimes->{
  3.592284201622666*^9, {3.5922847305398903`*^9, 3.592284768206655*^9}, {
   3.592284800948998*^9, 3.592284804717758*^9}, 3.592284899286397*^9, 
   3.592285021486669*^9, 3.593171141637197*^9, 3.5932318899499607`*^9, 
   3.593324010496446*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"einsteinTensor", "[", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"4", ",", "4"}], "}"}], ",", 
    RowBox[{"{", "}"}]}], "}"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"einsteinTensor", "[", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", "}"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"4", ",", "4"}], "}"}]}], "}"}], "]"}]}], "Input",
 CellChangeTimes->{
  3.592284865851851*^9, {3.592284902096971*^9, 3.59228492392201*^9}, {
   3.5922849734517183`*^9, 3.592284981014105*^9}}],

Cell[BoxData[
 FractionBox[
  RowBox[{"3", " ", 
   SuperscriptBox[
    RowBox[{
     SuperscriptBox["a", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "2"]}], 
  SuperscriptBox[
   RowBox[{"a", "[", "t", "]"}], "2"]]], "Output",
 CellChangeTimes->{
  3.592284924437078*^9, 3.5922849820285587`*^9, {3.59228501875572*^9, 
   3.59228502204626*^9}, 3.593171142460867*^9, 3.593231890957575*^9, 
   3.59332401168327*^9}],

Cell[BoxData[
 FractionBox[
  RowBox[{"3", " ", 
   SuperscriptBox[
    RowBox[{
     SuperscriptBox["a", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "2"]}], 
  SuperscriptBox[
   RowBox[{"a", "[", "t", "]"}], "2"]]], "Output",
 CellChangeTimes->{
  3.592284924437078*^9, 3.5922849820285587`*^9, {3.59228501875572*^9, 
   3.59228502204626*^9}, 3.593171142460867*^9, 3.593231890957575*^9, 
   3.593324011690705*^9}]
}, Open  ]],

Cell[TextData[{
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox[
     SuperscriptBox["G", "\[Mu]\[Nu]"], 
     RowBox[{";", "\[Nu]"}]], " ", "=", " ", "0"}], TraditionalForm]]],
 ":"
}], "Text",
 CellChangeTimes->{{3.592284942998349*^9, 3.5922849650632772`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CoD", "[", 
  RowBox[{"einsteinTensor", ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "1"}], "}"}]}], "}"}], ",", "4"}], "]"}]], "Input"],

Cell[BoxData[
 FractionBox[
  RowBox[{"2", " ", 
   RowBox[{"(", 
    RowBox[{
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["a", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "3"], "-", 
     RowBox[{
      SuperscriptBox[
       RowBox[{"a", "[", "t", "]"}], "2"], " ", 
      RowBox[{
       SuperscriptBox["a", 
        TagBox[
         RowBox[{"(", "3", ")"}],
         Derivative],
        MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}], 
  SuperscriptBox[
   RowBox[{"a", "[", "t", "]"}], "5"]]], "Output",
 CellChangeTimes->{3.592285055108797*^9, 3.5931711445414343`*^9, 
  3.593231892626553*^9, 3.593324050055945*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Table", "[", 
   RowBox[{
    RowBox[{"Sum", "[", 
     RowBox[{
      RowBox[{"CoD", "[", 
       RowBox[{"einsteinTensor", ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"i1", ",", "j1"}], "}"}]}], "}"}], ",", "i1"}], "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"i1", ",", "1", ",", "dim"}], "}"}]}], "]"}], ",", 
    RowBox[{"{", 
     RowBox[{"j1", ",", "1", ",", "dim"}], "}"}]}], "]"}], "//", 
  "Simplify"}]], "Input",
 CellChangeTimes->{3.592285084783787*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]], "Output",
 CellChangeTimes->{{3.592285062891863*^9, 3.592285086181374*^9}, 
   3.593171145492927*^9, 3.5932318937891607`*^9, 3.593324051369498*^9}]
}, Open  ]],

Cell["Got it!", "Text",
 CellChangeTimes->{{3.592285094157527*^9, 3.592285095303619*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Remarks", "Section",
 CellChangeTimes->{{3.575080862660659*^9, 3.5750808695964746`*^9}}],

Cell["\<\
All the indices used in the \[OpenCurlyDoubleQuote]For[]\
\[CloseCurlyDoubleQuote] cycle are marked by \[OpenCurlyDoubleQuote]X0\
\[CloseCurlyDoubleQuote], such as \[OpenCurlyDoubleQuote]i0\
\[CloseCurlyDoubleQuote], \
\[OpenCurlyDoubleQuote]j0\[CloseCurlyDoubleQuote],......\
\>", "Text",
 CellChangeTimes->{{3.575080875627738*^9, 3.575080951182612*^9}}],

Cell["\<\
Here\[CloseCurlyQuote]s an important thing. That is, when you calculate with \
the abstracted-indices way, such as:
f[{a_, b_, c_}, {d_, e_}] := \
Simplify[ajdsflksjadkfljjslfjskadjfklasjkldfjakldk], if the process of \
calculation of the RHS of the above definition of f with indices abstracted \
as the variables of the \[OpenCurlyDoubleQuote]function\
\[CloseCurlyDoubleQuote] f is extremely very complex, then it will spend a \
lot of time when every time you use the \[OpenCurlyDoubleQuote]function\
\[CloseCurlyDoubleQuote] f in other place such as: g = some combinations of \
such f.

I used to meet this case when I was calculating the perturbation of cosmology \
background. It\[CloseCurlyQuote]s quite horrible!! Believe it, or you can \
have a try while ensuring that you are not using a netbook but a awesome \
computer.

One efficient way of dealing with this terrible problem is keeping using both \
\[OpenCurlyDoubleQuote]matrix way\[CloseCurlyDoubleQuote] as well as \
\[OpenCurlyDoubleQuote]abstracted-indices way\[CloseCurlyDoubleQuote] by \
keeping translating a tensor from one side to another and vice versa.

The \[OpenCurlyDoubleQuote]matrix way\[CloseCurlyDoubleQuote] is faster for \
calculation, but harder for programming; while, the \
\[OpenCurlyDoubleQuote]abstracted-indices way\[CloseCurlyDoubleQuote] is good \
at programming but terrible for calculation when the expression becomes \
extremely complex.\
\>", "Text",
 CellChangeTimes->{{3.592300358150537*^9, 3.5923008607311287`*^9}, {
  3.592300906207799*^9, 3.592301165001112*^9}, {3.592301201119705*^9, 
  3.592301237305478*^9}}]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1024, 600},
WindowMargins->{{0, Automatic}, {Automatic, -1}},
Magnification:>FEPrivate`If[
  FEPrivate`Equal[FEPrivate`$VersionNumber, 6.], 1.25, 1.25 Inherited],
FrontEndVersion->"8.0 for Linux x86 (32-bit) (November 7, 2010)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[579, 22, 96, 1, 103, "Title"],
Cell[CellGroupData[{
Cell[700, 27, 99, 1, 87, "Section"],
Cell[802, 30, 503, 15, 105, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[1342, 50, 100, 1, 87, "Section"],
Cell[1445, 53, 656, 16, 83, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[2138, 74, 95, 1, 87, "Section"],
Cell[2236, 77, 716, 13, 122, "Text"],
Cell[2955, 92, 404, 7, 79, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[3396, 104, 154, 2, 87, "Section"],
Cell[CellGroupData[{
Cell[3575, 110, 132, 3, 46, "Subsection"],
Cell[3710, 115, 736, 17, 108, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[4483, 137, 233, 5, 47, "Subsection"],
Cell[4719, 144, 2322, 72, 245, "Text"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[7090, 222, 92, 1, 87, "Section"],
Cell[7185, 225, 118, 2, 36, "Input"],
Cell[CellGroupData[{
Cell[7328, 231, 2448, 57, 225, "Input"],
Cell[9779, 290, 2105, 44, 119, "Output"]
}, Open  ]],
Cell[11899, 337, 1094, 16, 36, "Input"],
Cell[CellGroupData[{
Cell[13018, 357, 445, 8, 36, "Input"],
Cell[13466, 367, 2829, 71, 120, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[16332, 443, 232, 5, 36, "Input"],
Cell[16567, 450, 2698, 73, 162, "Output"]
}, Open  ]],
Cell[19280, 526, 182, 4, 35, "Text"],
Cell[CellGroupData[{
Cell[19487, 534, 242, 4, 60, "Input"],
Cell[19732, 540, 2279, 64, 137, "Output"]
}, Open  ]],
Cell[22026, 607, 85, 1, 36, "Input"],
Cell[CellGroupData[{
Cell[22136, 612, 294, 8, 36, "Input"],
Cell[22433, 622, 342, 7, 36, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[22812, 634, 520, 15, 60, "Input"],
Cell[23335, 651, 430, 12, 62, "Output"],
Cell[23768, 665, 431, 12, 62, "Output"]
}, Open  ]],
Cell[24214, 680, 269, 9, 39, "Text"],
Cell[CellGroupData[{
Cell[24508, 693, 225, 7, 36, "Input"],
Cell[24736, 702, 663, 21, 65, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[25436, 728, 584, 18, 60, "Input"],
Cell[26023, 748, 231, 4, 36, "Output"]
}, Open  ]],
Cell[26269, 755, 89, 1, 35, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[26395, 761, 94, 1, 87, "Section"],
Cell[26492, 764, 365, 7, 36, "Text"],
Cell[26860, 773, 1625, 30, 352, "Text"]
}, Open  ]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
